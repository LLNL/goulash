# Makefile mechanically generated by Generator/generate_source
SHELL = /bin/sh

.SUFFIXES:
.SUFFIXES: .cc .F90 .o


# Pulled from cce-12.0.1-makedefs for building rush_larsen_interop1.5_gpu_omp_hip_mpi
INTEROP_CXX = /usr/tce/packages/cray-mpich-tce/cray-mpich-8.1.7-cce-12.0.1/bin/mpicrayCC
INTEROP_CPPFLAGS = -D__HIP_PLATFORM_AMD__ -I/opt/rocm-4.2.0/include
INTEROP_CXXFLAGS = -O3 -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx908
INTEROP_COMPILERID = -DCOMPILERID=cce-12.0.1
INTEROP_LDFLAGS = -L/opt/rocm-4.2.0/hip/lib
INTEROP_LDLIBS = -lamdhip64 -lmpifort_cray

# Pulled from cce-12.0.1-makedefs for building rush_larsen_interop1.5_gpu_omp_hip_mpi.o
COMPILER1_GPU_OMP_HIP_MPI_CXX = /usr/tce/packages/cray-mpich-tce/cray-mpich-8.1.7-cce-12.0.1/bin/mpicrayCC
COMPILER1_GPU_OMP_HIP_MPI_CPPFLAGS = -D__HIP_PLATFORM_AMD__ -I/opt/rocm-4.2.0/include
COMPILER1_GPU_OMP_HIP_MPI_CXXFLAGS = -O3 -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx908
COMPILER1_GPU_OMP_HIP_MPI_COMPILERID = -DCOMPILERID=cce-12.0.1
COMPILER1_GPU_OMP_HIP_MPI_LDFLAGS = -L/opt/rocm-4.2.0/hip/lib
COMPILER1_GPU_OMP_HIP_MPI_LDLIBS = -lamdhip64 -lmpifort_cray

# Pulled from cce-12.0.1-makedefs for building rush_larsen_cpu_omp_mpi_compiler1.o
COMPILER1_CPU_OMP_MPI_CXX = /usr/tce/packages/cray-mpich-tce/cray-mpich-8.1.7-cce-12.0.1/bin/mpicrayCC
COMPILER1_CPU_OMP_MPI_CPPFLAGS = 
COMPILER1_CPU_OMP_MPI_CXXFLAGS = -O3 -fopenmp
COMPILER1_CPU_OMP_MPI_COMPILERID = -DCOMPILERID=cce-12.0.1
COMPILER1_CPU_OMP_MPI_LDFLAGS = 
COMPILER1_CPU_OMP_MPI_LDLIBS = 

# Pulled from rocmcc-4.2.0-makedefs for building rush_larsen_cpu_omp_mpi_compiler2.o
COMPILER2_CPU_OMP_MPI_CXX = /usr/tce/packages/cray-mpich-tce/cray-mpich-8.1.7-rocmcc-4.2.0/bin/mpiamdclang++
COMPILER2_CPU_OMP_MPI_CPPFLAGS = 
COMPILER2_CPU_OMP_MPI_CXXFLAGS = -O3 -g -fopenmp
COMPILER2_CPU_OMP_MPI_COMPILERID = -DCOMPILERID=rocmcc-4.2.0
COMPILER2_CPU_OMP_MPI_LDFLAGS = 
COMPILER2_CPU_OMP_MPI_LDLIBS = 

# Pulled from cce-12.0.1-makedefs for building rush_larsen_gpu_omp_mpi_compiler1.o
COMPILER1_GPU_OMP_MPI_CXX = /usr/tce/packages/cray-mpich-tce/cray-mpich-8.1.7-cce-12.0.1/bin/mpicrayCC
COMPILER1_GPU_OMP_MPI_CPPFLAGS = 
COMPILER1_GPU_OMP_MPI_CXXFLAGS = -O3 -fopenmp -fopenmp-targets=amdgcn-amd-amdhsa -Xopenmp-target=amdgcn-amd-amdhsa -march=gfx908
COMPILER1_GPU_OMP_MPI_COMPILERID = -DCOMPILERID=cce-12.0.1
COMPILER1_GPU_OMP_MPI_LDFLAGS = 
COMPILER1_GPU_OMP_MPI_LDLIBS = 

# Pulled from cce-12.0.1-makedefs for building rush_larsen_gpu_hip_mpi_compiler1.o
COMPILER1_GPU_HIP_MPI_CXX = /usr/tce/packages/cray-mpich-tce/cray-mpich-8.1.7-cce-12.0.1/bin/mpicrayCC
COMPILER1_GPU_HIP_MPI_CPPFLAGS = -D__HIP_PLATFORM_AMD__ -I/opt/rocm-4.2.0/include
COMPILER1_GPU_HIP_MPI_CXXFLAGS = -O3 --cuda-gpu-arch=gfx908 -std=c++11 --rocm-path=/opt/rocm-4.2.0 -x hip
COMPILER1_GPU_HIP_MPI_COMPILERID = -DCOMPILERID=cce-12.0.1
COMPILER1_GPU_HIP_MPI_LDFLAGS = 
COMPILER1_GPU_HIP_MPI_LDLIBS = 

# Pulled from cce-12.0.1-makedefs for building rush_larsen_gpu_lambda_hip_mpi_compiler1.o
COMPILER1_GPU_LAMBDA_HIP_MPI_CXX = /usr/tce/packages/cray-mpich-tce/cray-mpich-8.1.7-cce-12.0.1/bin/mpicrayCC
COMPILER1_GPU_LAMBDA_HIP_MPI_CPPFLAGS = -D__HIP_PLATFORM_AMD__ -I/opt/rocm-4.2.0/include
COMPILER1_GPU_LAMBDA_HIP_MPI_CXXFLAGS = -O3 --cuda-gpu-arch=gfx908 -std=c++11 --rocm-path=/opt/rocm-4.2.0 -x hip
COMPILER1_GPU_LAMBDA_HIP_MPI_COMPILERID = -DCOMPILERID=cce-12.0.1
COMPILER1_GPU_LAMBDA_HIP_MPI_LDFLAGS = 
COMPILER1_GPU_LAMBDA_HIP_MPI_LDLIBS = 

# Pulled from cce-12.0.1-makedefs for building rush_larsen_cpu_omp_fort_compiler1_mpi.o
COMPILER1_CPU_OMP_MPI_FORT_FC = /usr/tce/packages/cray-mpich-tce/cray-mpich-8.1.7-cce-12.0.1/bin/mpicrayftn
COMPILER1_CPU_OMP_MPI_FORT_CPPFLAGS = 
COMPILER1_CPU_OMP_MPI_FORT_FCFLAGS = -O3 -g -fopenmp
COMPILER1_CPU_OMP_MPI_FORT_COMPILERID = '-DCOMPILERID="cce-12.0.1"'
COMPILER1_CPU_OMP_MPI_FORT_LDFLAGS = 
COMPILER1_CPU_OMP_MPI_FORT_LDLIBS = 

# Pulled from cce-12.0.1-makedefs for building rush_larsen_gpu_omp_fort_compiler1_mpi.o
COMPILER1_GPU_OMP_MPI_FORT_FC = /usr/tce/packages/cray-mpich-tce/cray-mpich-8.1.7-cce-12.0.1/bin/mpicrayftn
COMPILER1_GPU_OMP_MPI_FORT_CPPFLAGS = 
COMPILER1_GPU_OMP_MPI_FORT_FCFLAGS = -O3 -g -fopenmp -haccel=amd_gfx908
COMPILER1_GPU_OMP_MPI_FORT_COMPILERID = '-DCOMPILERID="cce-12.0.1"'
COMPILER1_GPU_OMP_MPI_FORT_LDFLAGS = 
COMPILER1_GPU_OMP_MPI_FORT_LDLIBS = 
 
all: rush_larsen_interop1.5_gpu_omp_hip_mpi

rush_larsen_interop1.5_gpu_omp_hip_mpi: rush_larsen_gpu_omp_fort_compiler1_mpi.o rush_larsen_cpu_omp_fort_compiler1_mpi.o rush_larsen_gpu_lambda_hip_mpi_compiler1.o rush_larsen_gpu_hip_mpi_compiler1.o rush_larsen_gpu_omp_mpi_compiler1.o rush_larsen_cpu_omp_mpi_compiler2.o rush_larsen_cpu_omp_mpi_compiler1.o rush_larsen_interop1.5_gpu_omp_hip_mpi.o 
	$(INTEROP_CXX)  $(INTEROP_COMPILERID) $(INTEROP_CPPFLAGS) $(INTEROP_CXXFLAGS) $+ $(INTEROP_LDFLAGS) $(INTEROP_LDLIBS) -o $@

rush_larsen_interop1.5_gpu_omp_hip_mpi.o: rush_larsen_interop1.5_gpu_omp_hip_mpi.cc
	$(COMPILER1_GPU_OMP_HIP_MPI_CXX) -c $(COMPILER1_GPU_OMP_HIP_MPI_COMPILERID) $(COMPILER1_GPU_OMP_HIP_MPI_CPPFLAGS) $(COMPILER1_GPU_OMP_HIP_MPI_CXXFLAGS) $+ -o $@

rush_larsen_cpu_omp_mpi_compiler1.o: rush_larsen_cpu_omp_mpi_compiler1.cc
	$(COMPILER1_CPU_OMP_MPI_CXX) -c $(COMPILER1_CPU_OMP_MPI_COMPILERID) $(COMPILER1_CPU_OMP_MPI_CPPFLAGS) $(COMPILER1_CPU_OMP_MPI_CXXFLAGS) $+ -o $@

rush_larsen_cpu_omp_mpi_compiler2.o: rush_larsen_cpu_omp_mpi_compiler2.cc
	$(COMPILER2_CPU_OMP_MPI_CXX) -c $(COMPILER2_CPU_OMP_MPI_COMPILERID) $(COMPILER2_CPU_OMP_MPI_CPPFLAGS) $(COMPILER2_CPU_OMP_MPI_CXXFLAGS) $+ -o $@

rush_larsen_gpu_omp_mpi_compiler1.o: rush_larsen_gpu_omp_mpi_compiler1.cc
	$(COMPILER1_GPU_OMP_MPI_CXX) -c $(COMPILER1_GPU_OMP_MPI_COMPILERID) $(COMPILER1_GPU_OMP_MPI_CPPFLAGS) $(COMPILER1_GPU_OMP_MPI_CXXFLAGS) $+ -o $@

rush_larsen_gpu_hip_mpi_compiler1.o: rush_larsen_gpu_hip_mpi_compiler1.cc
	$(COMPILER1_GPU_HIP_MPI_CXX) -c $(COMPILER1_GPU_HIP_MPI_COMPILERID) $(COMPILER1_GPU_HIP_MPI_CPPFLAGS) $(COMPILER1_GPU_HIP_MPI_CXXFLAGS) $+ -o $@

rush_larsen_gpu_lambda_hip_mpi_compiler1.o: rush_larsen_gpu_lambda_hip_mpi_compiler1.cc
	$(COMPILER1_GPU_LAMBDA_HIP_MPI_CXX) -c $(COMPILER1_GPU_LAMBDA_HIP_MPI_COMPILERID) $(COMPILER1_GPU_LAMBDA_HIP_MPI_CPPFLAGS) $(COMPILER1_GPU_LAMBDA_HIP_MPI_CXXFLAGS) $+ -o $@

rush_larsen_cpu_omp_fort_compiler1_mpi.o: rush_larsen_cpu_omp_mpi_fort_compiler1.F90
	$(COMPILER1_CPU_OMP_MPI_FORT_FC) -c $(COMPILER1_CPU_OMP_MPI_FORT_COMPILERID) $(COMPILER1_CPU_OMP_MPI_FORT_CPPFLAGS) $(COMPILER1_CPU_OMP_MPI_FORT_FCFLAGS) $+ -o $@

rush_larsen_gpu_omp_fort_compiler1_mpi.o: rush_larsen_gpu_omp_mpi_fort_compiler1.F90
	$(COMPILER1_GPU_OMP_MPI_FORT_FC) -c $(COMPILER1_GPU_OMP_MPI_FORT_COMPILERID) $(COMPILER1_GPU_OMP_MPI_FORT_CPPFLAGS) $(COMPILER1_GPU_OMP_MPI_FORT_FCFLAGS) $+ -o $@


check:
	srun -n 2 ./rush_larsen_interop1.5_gpu_omp_hip_mpi 1 10 .01
 
clean:
	rm -f rush_larsen_gpu_omp_fort_compiler1_mpi.o rush_larsen_cpu_omp_fort_compiler1_mpi.o rush_larsen_gpu_lambda_hip_mpi_compiler1.o rush_larsen_gpu_hip_mpi_compiler1.o rush_larsen_gpu_omp_mpi_compiler1.o rush_larsen_cpu_omp_mpi_compiler2.o rush_larsen_cpu_omp_mpi_compiler1.o rush_larsen_interop1.5_gpu_omp_hip_mpi.o rush_larsen_interop1.5_gpu_omp_hip_mpi 


